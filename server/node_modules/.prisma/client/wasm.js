
/* !!! This is code generated by Prisma. Do not edit directly. !!!
/* eslint-disable */
// biome-ignore-all lint: generated file

Object.defineProperty(exports, "__esModule", { value: true });

const {
  PrismaClientKnownRequestError,
  PrismaClientUnknownRequestError,
  PrismaClientRustPanicError,
  PrismaClientInitializationError,
  PrismaClientValidationError,
  getPrismaClient,
  sqltag,
  empty,
  join,
  raw,
  skip,
  Decimal,
  Debug,
  objectEnumValues,
  makeStrictEnum,
  Extensions,
  warnOnce,
  defineDmmfProperty,
  Public,
  getRuntime,
  createParam,
} = require('@prisma/client/runtime/wasm-engine-edge.js')


const Prisma = {}

exports.Prisma = Prisma
exports.$Enums = {}

/**
 * Prisma Client JS version: 6.19.0
 * Query Engine version: 2ba551f319ab1df4bc874a89965d8b3641056773
 */
Prisma.prismaVersion = {
  client: "6.19.0",
  engine: "2ba551f319ab1df4bc874a89965d8b3641056773"
}

Prisma.PrismaClientKnownRequestError = PrismaClientKnownRequestError;
Prisma.PrismaClientUnknownRequestError = PrismaClientUnknownRequestError
Prisma.PrismaClientRustPanicError = PrismaClientRustPanicError
Prisma.PrismaClientInitializationError = PrismaClientInitializationError
Prisma.PrismaClientValidationError = PrismaClientValidationError
Prisma.Decimal = Decimal

/**
 * Re-export of sql-template-tag
 */
Prisma.sql = sqltag
Prisma.empty = empty
Prisma.join = join
Prisma.raw = raw
Prisma.validator = Public.validator

/**
* Extensions
*/
Prisma.getExtensionContext = Extensions.getExtensionContext
Prisma.defineExtension = Extensions.defineExtension

/**
 * Shorthand utilities for JSON filtering
 */
Prisma.DbNull = objectEnumValues.instances.DbNull
Prisma.JsonNull = objectEnumValues.instances.JsonNull
Prisma.AnyNull = objectEnumValues.instances.AnyNull

Prisma.NullTypes = {
  DbNull: objectEnumValues.classes.DbNull,
  JsonNull: objectEnumValues.classes.JsonNull,
  AnyNull: objectEnumValues.classes.AnyNull
}





/**
 * Enums
 */
exports.Prisma.TransactionIsolationLevel = makeStrictEnum({
  ReadUncommitted: 'ReadUncommitted',
  ReadCommitted: 'ReadCommitted',
  RepeatableRead: 'RepeatableRead',
  Serializable: 'Serializable'
});

exports.Prisma.OrganizationScalarFieldEnum = {
  id: 'id',
  name: 'name',
  slug: 'slug',
  timezone: 'timezone',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.UserScalarFieldEnum = {
  id: 'id',
  email: 'email',
  passwordHash: 'passwordHash',
  firstName: 'firstName',
  lastName: 'lastName',
  role: 'role',
  organizationId: 'organizationId',
  isActive: 'isActive',
  externalId: 'externalId',
  externalData: 'externalData',
  lastLoginAt: 'lastLoginAt',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.RefreshTokenScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  token: 'token',
  expiresAt: 'expiresAt',
  createdAt: 'createdAt'
};

exports.Prisma.GroupScalarFieldEnum = {
  id: 'id',
  name: 'name',
  description: 'description',
  organizationId: 'organizationId',
  externalId: 'externalId',
  externalData: 'externalData',
  ageMin: 'ageMin',
  ageMax: 'ageMax',
  grade: 'grade',
  isActive: 'isActive',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.GroupMemberScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  groupId: 'groupId',
  role: 'role',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ExternalIntegrationScalarFieldEnum = {
  id: 'id',
  organizationId: 'organizationId',
  provider: 'provider',
  status: 'status',
  credentialsEncrypted: 'credentialsEncrypted',
  credentialsIV: 'credentialsIV',
  credentialsTag: 'credentialsTag',
  accessToken: 'accessToken',
  refreshToken: 'refreshToken',
  tokenExpiresAt: 'tokenExpiresAt',
  apiBaseUrl: 'apiBaseUrl',
  apiVersion: 'apiVersion',
  syncEnabled: 'syncEnabled',
  syncFrequency: 'syncFrequency',
  lastSyncAt: 'lastSyncAt',
  lastSyncStatus: 'lastSyncStatus',
  nextSyncAt: 'nextSyncAt',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ExternalGroupMappingScalarFieldEnum = {
  id: 'id',
  integrationId: 'integrationId',
  externalGroupId: 'externalGroupId',
  externalGroupName: 'externalGroupName',
  externalGroupType: 'externalGroupType',
  groupId: 'groupId',
  syncMembers: 'syncMembers',
  syncLeaders: 'syncLeaders',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.SyncLogScalarFieldEnum = {
  id: 'id',
  integrationId: 'integrationId',
  status: 'status',
  startedAt: 'startedAt',
  completedAt: 'completedAt',
  durationMs: 'durationMs',
  peopleAdded: 'peopleAdded',
  peopleUpdated: 'peopleUpdated',
  peopleRemoved: 'peopleRemoved',
  groupsAdded: 'groupsAdded',
  groupsUpdated: 'groupsUpdated',
  groupsSkipped: 'groupsSkipped',
  errorMessage: 'errorMessage',
  errorCode: 'errorCode',
  errorDetails: 'errorDetails',
  metadata: 'metadata'
};

exports.Prisma.LessonScalarFieldEnum = {
  id: 'id',
  organizationId: 'organizationId',
  title: 'title',
  quarter: 'quarter',
  unit: 'unit',
  lessonNumber: 'lessonNumber',
  scripture: 'scripture',
  content: 'content',
  slides: 'slides',
  games: 'games',
  isPublic: 'isPublic',
  isTemplate: 'isTemplate',
  createdBy: 'createdBy',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.LessonGroupScalarFieldEnum = {
  id: 'id',
  lessonId: 'lessonId',
  groupId: 'groupId',
  createdAt: 'createdAt'
};

exports.Prisma.AIFilterConfigScalarFieldEnum = {
  id: 'id',
  organizationId: 'organizationId',
  filterRules: 'filterRules',
  customKeywords: 'customKeywords',
  redirectMessage: 'redirectMessage',
  isActive: 'isActive',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.AIFilterMetricScalarFieldEnum = {
  id: 'id',
  filterId: 'filterId',
  organizationId: 'organizationId',
  query: 'query',
  detectedCategory: 'detectedCategory',
  actionTaken: 'actionTaken',
  userId: 'userId',
  groupId: 'groupId',
  featureName: 'featureName',
  leaderNotified: 'leaderNotified',
  leaderResponse: 'leaderResponse',
  resolvedAt: 'resolvedAt',
  createdAt: 'createdAt'
};

exports.Prisma.ComparativeThemeScalarFieldEnum = {
  id: 'id',
  organizationId: 'organizationId',
  themeName: 'themeName',
  description: 'description',
  category: 'category',
  otPassages: 'otPassages',
  ntPassages: 'ntPassages',
  themeNotes: 'themeNotes',
  isPublic: 'isPublic',
  createdBy: 'createdBy',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.ThemeMetricScalarFieldEnum = {
  id: 'id',
  themeId: 'themeId',
  organizationId: 'organizationId',
  viewCount: 'viewCount',
  lastViewedAt: 'lastViewedAt',
  userId: 'userId',
  featureContext: 'featureContext',
  timeSpentMs: 'timeSpentMs',
  usedInLesson: 'usedInLesson',
  lessonId: 'lessonId',
  createdAt: 'createdAt'
};

exports.Prisma.NotificationPreferenceScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  emailEnabled: 'emailEnabled',
  emailLessonReminders: 'emailLessonReminders',
  emailEventReminders: 'emailEventReminders',
  emailAnnouncements: 'emailAnnouncements',
  emailGroupUpdates: 'emailGroupUpdates',
  emailDigest: 'emailDigest',
  emailDigestFrequency: 'emailDigestFrequency',
  inAppEnabled: 'inAppEnabled',
  inAppLessonReminders: 'inAppLessonReminders',
  inAppEventReminders: 'inAppEventReminders',
  inAppAnnouncements: 'inAppAnnouncements',
  inAppGroupUpdates: 'inAppGroupUpdates',
  quietHoursEnabled: 'quietHoursEnabled',
  quietHoursStart: 'quietHoursStart',
  quietHoursEnd: 'quietHoursEnd',
  quietHoursTimezone: 'quietHoursTimezone',
  preferredDays: 'preferredDays',
  lessonReminderDays: 'lessonReminderDays',
  lessonReminderTime: 'lessonReminderTime',
  eventReminderHours: 'eventReminderHours',
  batchNotifications: 'batchNotifications',
  maxNotificationsPerDay: 'maxNotificationsPerDay',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.NotificationScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  organizationId: 'organizationId',
  type: 'type',
  title: 'title',
  message: 'message',
  actionUrl: 'actionUrl',
  deliveryMethod: 'deliveryMethod',
  priority: 'priority',
  scheduledFor: 'scheduledFor',
  sentAt: 'sentAt',
  readAt: 'readAt',
  status: 'status',
  deliveryStatus: 'deliveryStatus',
  failureReason: 'failureReason',
  retryCount: 'retryCount',
  maxRetries: 'maxRetries',
  groupId: 'groupId',
  lessonId: 'lessonId',
  eventId: 'eventId',
  metadata: 'metadata',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.NotificationScheduleScalarFieldEnum = {
  id: 'id',
  organizationId: 'organizationId',
  groupId: 'groupId',
  name: 'name',
  description: 'description',
  notificationType: 'notificationType',
  title: 'title',
  message: 'message',
  actionUrl: 'actionUrl',
  frequency: 'frequency',
  dayOfWeek: 'dayOfWeek',
  dayOfMonth: 'dayOfMonth',
  timeOfDay: 'timeOfDay',
  timezone: 'timezone',
  offsetDays: 'offsetDays',
  offsetHours: 'offsetHours',
  targetRoles: 'targetRoles',
  targetUserIds: 'targetUserIds',
  isActive: 'isActive',
  lastRunAt: 'lastRunAt',
  nextRunAt: 'nextRunAt',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.SortOrder = {
  asc: 'asc',
  desc: 'desc'
};

exports.Prisma.NullableJsonNullValueInput = {
  DbNull: Prisma.DbNull,
  JsonNull: Prisma.JsonNull
};

exports.Prisma.JsonNullValueInput = {
  JsonNull: Prisma.JsonNull
};

exports.Prisma.QueryMode = {
  default: 'default',
  insensitive: 'insensitive'
};

exports.Prisma.JsonNullValueFilter = {
  DbNull: Prisma.DbNull,
  JsonNull: Prisma.JsonNull,
  AnyNull: Prisma.AnyNull
};

exports.Prisma.NullsOrder = {
  first: 'first',
  last: 'last'
};
exports.Role = exports.$Enums.Role = {
  SUPER_ADMIN: 'SUPER_ADMIN',
  ORG_ADMIN: 'ORG_ADMIN',
  TEACHER: 'TEACHER',
  MEMBER: 'MEMBER'
};

exports.IntegrationProvider = exports.$Enums.IntegrationProvider = {
  PLANNING_CENTER: 'PLANNING_CENTER',
  CCB: 'CCB',
  ELVANTO: 'ELVANTO',
  BREEZE: 'BREEZE',
  FELLOWSHIP_ONE: 'FELLOWSHIP_ONE',
  ROCK_RMS: 'ROCK_RMS'
};

exports.IntegrationStatus = exports.$Enums.IntegrationStatus = {
  ACTIVE: 'ACTIVE',
  INACTIVE: 'INACTIVE',
  ERROR: 'ERROR',
  PENDING: 'PENDING',
  EXPIRED: 'EXPIRED'
};

exports.SyncFrequency = exports.$Enums.SyncFrequency = {
  HOURLY: 'HOURLY',
  DAILY: 'DAILY',
  WEEKLY: 'WEEKLY',
  MANUAL: 'MANUAL'
};

exports.SyncStatus = exports.$Enums.SyncStatus = {
  SUCCESS: 'SUCCESS',
  ERROR: 'ERROR',
  PARTIAL: 'PARTIAL'
};

exports.FilterCategory = exports.$Enums.FilterCategory = {
  RELATIONSHIPS_SEXUALITY: 'RELATIONSHIPS_SEXUALITY',
  MENTAL_HEALTH: 'MENTAL_HEALTH',
  CONTROVERSIAL_DOCTRINE: 'CONTROVERSIAL_DOCTRINE',
  VIOLENCE_ABUSE: 'VIOLENCE_ABUSE',
  SUBSTANCE_USE: 'SUBSTANCE_USE',
  POLITICS: 'POLITICS',
  FAMILY_ISSUES: 'FAMILY_ISSUES',
  DEATH_GRIEF: 'DEATH_GRIEF',
  DOUBTS_FAITH: 'DOUBTS_FAITH',
  PEER_PRESSURE: 'PEER_PRESSURE',
  CUSTOM: 'CUSTOM'
};

exports.FilterAction = exports.$Enums.FilterAction = {
  REDIRECT: 'REDIRECT',
  GUIDANCE: 'GUIDANCE',
  BLOCK: 'BLOCK',
  MONITOR: 'MONITOR'
};

exports.DigestFrequency = exports.$Enums.DigestFrequency = {
  DAILY: 'DAILY',
  WEEKLY: 'WEEKLY',
  BIWEEKLY: 'BIWEEKLY',
  MONTHLY: 'MONTHLY'
};

exports.NotificationType = exports.$Enums.NotificationType = {
  LESSON_REMINDER: 'LESSON_REMINDER',
  EVENT_REMINDER: 'EVENT_REMINDER',
  ANNOUNCEMENT: 'ANNOUNCEMENT',
  GROUP_UPDATE: 'GROUP_UPDATE',
  LESSON_ASSIGNED: 'LESSON_ASSIGNED',
  COMMENT_REPLY: 'COMMENT_REPLY',
  MENTION: 'MENTION',
  SYNC_COMPLETE: 'SYNC_COMPLETE',
  SYNC_ERROR: 'SYNC_ERROR',
  CUSTOM: 'CUSTOM'
};

exports.NotificationDeliveryMethod = exports.$Enums.NotificationDeliveryMethod = {
  EMAIL: 'EMAIL',
  IN_APP: 'IN_APP',
  BOTH: 'BOTH'
};

exports.NotificationPriority = exports.$Enums.NotificationPriority = {
  LOW: 'LOW',
  NORMAL: 'NORMAL',
  HIGH: 'HIGH',
  URGENT: 'URGENT'
};

exports.NotificationStatus = exports.$Enums.NotificationStatus = {
  PENDING: 'PENDING',
  SCHEDULED: 'SCHEDULED',
  SENDING: 'SENDING',
  SENT: 'SENT',
  DELIVERED: 'DELIVERED',
  READ: 'READ',
  FAILED: 'FAILED',
  CANCELLED: 'CANCELLED'
};

exports.ScheduleFrequency = exports.$Enums.ScheduleFrequency = {
  ONCE: 'ONCE',
  DAILY: 'DAILY',
  WEEKLY: 'WEEKLY',
  BIWEEKLY: 'BIWEEKLY',
  MONTHLY: 'MONTHLY',
  BEFORE_LESSON: 'BEFORE_LESSON',
  BEFORE_EVENT: 'BEFORE_EVENT'
};

exports.Prisma.ModelName = {
  Organization: 'Organization',
  User: 'User',
  RefreshToken: 'RefreshToken',
  Group: 'Group',
  GroupMember: 'GroupMember',
  ExternalIntegration: 'ExternalIntegration',
  ExternalGroupMapping: 'ExternalGroupMapping',
  SyncLog: 'SyncLog',
  Lesson: 'Lesson',
  LessonGroup: 'LessonGroup',
  AIFilterConfig: 'AIFilterConfig',
  AIFilterMetric: 'AIFilterMetric',
  ComparativeTheme: 'ComparativeTheme',
  ThemeMetric: 'ThemeMetric',
  NotificationPreference: 'NotificationPreference',
  Notification: 'Notification',
  NotificationSchedule: 'NotificationSchedule'
};
/**
 * Create the Client
 */
const config = {
  "generator": {
    "name": "client",
    "provider": {
      "fromEnvVar": null,
      "value": "prisma-client-js"
    },
    "output": {
      "value": "/home/user/teen-sunday-school/server/node_modules/@prisma/client",
      "fromEnvVar": null
    },
    "config": {
      "engineType": "library"
    },
    "binaryTargets": [
      {
        "fromEnvVar": null,
        "value": "debian-openssl-3.0.x",
        "native": true
      }
    ],
    "previewFeatures": [],
    "sourceFilePath": "/home/user/teen-sunday-school/server/prisma/schema.prisma"
  },
  "relativeEnvPaths": {
    "rootEnvPath": null,
    "schemaEnvPath": "../../../.env"
  },
  "relativePath": "../../../prisma",
  "clientVersion": "6.19.0",
  "engineVersion": "2ba551f319ab1df4bc874a89965d8b3641056773",
  "datasourceNames": [
    "db"
  ],
  "activeProvider": "postgresql",
  "postinstall": false,
  "inlineDatasources": {
    "db": {
      "url": {
        "fromEnvVar": "DATABASE_URL",
        "value": null
      }
    }
  },
  "inlineSchema": "// This is your Prisma schema file for Teen Sunday School\n// Learn more: https://pris.ly/d/prisma-schema\n\ngenerator client {\n  provider = \"prisma-client-js\"\n}\n\ndatasource db {\n  provider = \"postgresql\"\n  url      = env(\"DATABASE_URL\")\n}\n\n// ============================================================================\n// ORGANIZATIONS & USERS\n// ============================================================================\n\nmodel Organization {\n  id        String   @id @default(cuid())\n  name      String\n  slug      String   @unique\n  timezone  String   @default(\"America/New_York\")\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  users             User[]\n  groups            Group[]\n  integrations      ExternalIntegration[]\n  lessons           Lesson[]\n  aiFilterConfigs   AIFilterConfig[]\n  comparativeThemes ComparativeTheme[]\n\n  @@index([slug])\n}\n\nmodel User {\n  id             String  @id @default(cuid())\n  email          String  @unique\n  passwordHash   String\n  firstName      String\n  lastName       String\n  role           Role    @default(MEMBER)\n  organizationId String\n  isActive       Boolean @default(true)\n\n  // External system IDs (for syncing)\n  externalId   String? // Planning Center person ID\n  externalData Json? // Additional metadata from external system\n\n  lastLoginAt DateTime?\n  createdAt   DateTime  @default(now())\n  updatedAt   DateTime  @updatedAt\n\n  organization           Organization            @relation(fields: [organizationId], references: [id], onDelete: Cascade)\n  groupMemberships       GroupMember[]\n  refreshTokens          RefreshToken[]\n  notificationPreference NotificationPreference?\n  notifications          Notification[]\n\n  @@index([email])\n  @@index([organizationId])\n  @@index([externalId])\n}\n\nenum Role {\n  SUPER_ADMIN // Platform admin\n  ORG_ADMIN // Organization administrator\n  TEACHER // Can create/edit lessons\n  MEMBER // Regular member/student\n}\n\nmodel RefreshToken {\n  id        String   @id @default(cuid())\n  userId    String\n  token     String   @unique\n  expiresAt DateTime\n  createdAt DateTime @default(now())\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@index([userId])\n  @@index([token])\n}\n\n// ============================================================================\n// GROUPS\n// ============================================================================\n\nmodel Group {\n  id             String  @id @default(cuid())\n  name           String\n  description    String?\n  organizationId String\n\n  // For syncing with external systems\n  externalId   String? // Planning Center list ID\n  externalData Json? // Metadata from external system\n\n  ageMin Int?\n  ageMax Int?\n  grade  String?\n\n  isActive  Boolean  @default(true)\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  organization Organization           @relation(fields: [organizationId], references: [id], onDelete: Cascade)\n  members      GroupMember[]\n  mappings     ExternalGroupMapping[]\n  lessons      LessonGroup[]\n\n  @@index([organizationId])\n  @@index([externalId])\n}\n\nmodel GroupMember {\n  id        String   @id @default(cuid())\n  userId    String\n  groupId   String\n  role      String   @default(\"member\") // \"leader\", \"assistant\", \"member\"\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  user  User  @relation(fields: [userId], references: [id], onDelete: Cascade)\n  group Group @relation(fields: [groupId], references: [id], onDelete: Cascade)\n\n  @@unique([userId, groupId])\n  @@index([userId])\n  @@index([groupId])\n}\n\n// ============================================================================\n// EXTERNAL INTEGRATIONS\n// ============================================================================\n\nmodel ExternalIntegration {\n  id             String              @id @default(cuid())\n  organizationId String\n  provider       IntegrationProvider\n  status         IntegrationStatus   @default(INACTIVE)\n\n  // Encrypted credentials (AES-256-GCM)\n  credentialsEncrypted String @db.Text\n  credentialsIV        String // Initialization vector for encryption\n  credentialsTag       String // Authentication tag for encryption\n\n  // OAuth specific fields\n  accessToken    String?   @db.Text\n  refreshToken   String?   @db.Text\n  tokenExpiresAt DateTime?\n\n  // API configuration\n  apiBaseUrl String?\n  apiVersion String?\n\n  // Sync configuration\n  syncEnabled    Boolean       @default(false)\n  syncFrequency  SyncFrequency @default(DAILY)\n  lastSyncAt     DateTime?\n  lastSyncStatus SyncStatus?\n  nextSyncAt     DateTime?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  organization  Organization           @relation(fields: [organizationId], references: [id], onDelete: Cascade)\n  groupMappings ExternalGroupMapping[]\n  syncLogs      SyncLog[]\n\n  @@index([organizationId])\n  @@index([provider])\n  @@index([status])\n}\n\nenum IntegrationProvider {\n  PLANNING_CENTER\n  CCB // Church Community Builder\n  ELVANTO\n  BREEZE\n  FELLOWSHIP_ONE\n  ROCK_RMS\n}\n\nenum IntegrationStatus {\n  ACTIVE\n  INACTIVE\n  ERROR\n  PENDING\n  EXPIRED // OAuth token expired\n}\n\nenum SyncFrequency {\n  HOURLY\n  DAILY\n  WEEKLY\n  MANUAL // Only manual syncs\n}\n\nenum SyncStatus {\n  SUCCESS\n  ERROR\n  PARTIAL // Some data synced, some failed\n}\n\n// ============================================================================\n// GROUP MAPPINGS\n// ============================================================================\n\nmodel ExternalGroupMapping {\n  id                String  @id @default(cuid())\n  integrationId     String\n  externalGroupId   String // ID from external system (e.g., Planning Center list ID)\n  externalGroupName String\n  externalGroupType String? // Type in external system\n  groupId           String? // NULL if not yet mapped\n\n  // Sync settings for this mapping\n  syncMembers Boolean @default(true)\n  syncLeaders Boolean @default(true)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  integration ExternalIntegration @relation(fields: [integrationId], references: [id], onDelete: Cascade)\n  group       Group?              @relation(fields: [groupId], references: [id], onDelete: SetNull)\n\n  @@unique([integrationId, externalGroupId])\n  @@index([integrationId])\n  @@index([groupId])\n}\n\n// ============================================================================\n// SYNC LOGS & ANALYTICS\n// ============================================================================\n\nmodel SyncLog {\n  id            String     @id @default(cuid())\n  integrationId String\n  status        SyncStatus\n  startedAt     DateTime   @default(now())\n  completedAt   DateTime?\n  durationMs    Int? // Duration in milliseconds\n\n  // Metrics\n  peopleAdded   Int @default(0)\n  peopleUpdated Int @default(0)\n  peopleRemoved Int @default(0)\n  groupsAdded   Int @default(0)\n  groupsUpdated Int @default(0)\n  groupsSkipped Int @default(0)\n\n  // Error tracking\n  errorMessage String? @db.Text\n  errorCode    String?\n  errorDetails Json?\n\n  // Additional metadata\n  metadata Json?\n\n  integration ExternalIntegration @relation(fields: [integrationId], references: [id], onDelete: Cascade)\n\n  @@index([integrationId])\n  @@index([startedAt])\n  @@index([status])\n}\n\n// ============================================================================\n// LESSONS (Migrated from localStorage)\n// ============================================================================\n\nmodel Lesson {\n  id             String @id @default(cuid())\n  organizationId String\n\n  // Lesson metadata\n  title        String\n  quarter      Int\n  unit         Int\n  lessonNumber Int\n  scripture    String\n\n  // Content\n  content Json // Full lesson content as JSON\n  slides  Json? // Slide data\n  games   Json? // Game configurations\n\n  // Sharing & visibility\n  isPublic   Boolean @default(false)\n  isTemplate Boolean @default(false)\n\n  createdBy String? // User ID\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  organization Organization  @relation(fields: [organizationId], references: [id], onDelete: Cascade)\n  groups       LessonGroup[]\n\n  @@unique([organizationId, quarter, unit, lessonNumber])\n  @@index([organizationId])\n  @@index([isPublic])\n}\n\nmodel LessonGroup {\n  id        String   @id @default(cuid())\n  lessonId  String\n  groupId   String\n  createdAt DateTime @default(now())\n\n  lesson Lesson @relation(fields: [lessonId], references: [id], onDelete: Cascade)\n  group  Group  @relation(fields: [groupId], references: [id], onDelete: Cascade)\n\n  @@unique([lessonId, groupId])\n  @@index([lessonId])\n  @@index([groupId])\n}\n\n// ============================================================================\n// AI CONTENT FILTERS\n// ============================================================================\n\nmodel AIFilterConfig {\n  id             String  @id @default(cuid())\n  organizationId String? // NULL = global/default config\n\n  // Filter categories and their handling rules\n  filterRules Json // { \"relationships_sexuality\": \"REDIRECT\", \"mental_health\": \"GUIDANCE\", ... }\n\n  // Additional settings\n  customKeywords  Json? // Custom keywords to filter: { \"block\": [...], \"monitor\": [...] }\n  redirectMessage String? @db.Text // Custom message when redirecting to leader\n\n  isActive  Boolean  @default(true)\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  organization Organization?    @relation(fields: [organizationId], references: [id], onDelete: Cascade)\n  metrics      AIFilterMetric[]\n\n  @@unique([organizationId]) // One config per org (plus one global)\n  @@index([organizationId])\n  @@index([isActive])\n}\n\nenum FilterCategory {\n  RELATIONSHIPS_SEXUALITY\n  MENTAL_HEALTH\n  CONTROVERSIAL_DOCTRINE\n  VIOLENCE_ABUSE\n  SUBSTANCE_USE\n  POLITICS\n  FAMILY_ISSUES\n  DEATH_GRIEF\n  DOUBTS_FAITH\n  PEER_PRESSURE\n  CUSTOM\n}\n\nenum FilterAction {\n  REDIRECT // Redirect to leader\n  GUIDANCE // Provide high-level guidance only\n  BLOCK // Block completely with generic message\n  MONITOR // Allow but log for review\n}\n\nmodel AIFilterMetric {\n  id             String  @id @default(cuid())\n  filterId       String\n  organizationId String?\n\n  // Query details\n  query            String         @db.Text\n  detectedCategory FilterCategory\n  actionTaken      FilterAction\n\n  // Context\n  userId      String? // User who made the query\n  groupId     String? // Group context if applicable\n  featureName String? // Which AI feature triggered the filter\n\n  // Leader follow-up tracking\n  leaderNotified Boolean   @default(false)\n  leaderResponse String?   @db.Text\n  resolvedAt     DateTime?\n\n  createdAt DateTime @default(now())\n\n  filter AIFilterConfig @relation(fields: [filterId], references: [id], onDelete: Cascade)\n\n  @@index([filterId])\n  @@index([organizationId])\n  @@index([createdAt])\n  @@index([detectedCategory])\n  @@index([actionTaken])\n  @@index([userId])\n}\n\n// ============================================================================\n// COMPARATIVE THEME VIEW (OT vs NT)\n// ============================================================================\n\nmodel ComparativeTheme {\n  id             String @id @default(cuid())\n  organizationId String\n\n  // Theme metadata\n  themeName   String\n  description String? @db.Text\n  category    String? // e.g., \"covenant\", \"sacrifice\", \"grace\", \"justice\"\n\n  // Old Testament passages\n  otPassages Json // Array of {ref: string, text?: string, notes?: string}\n\n  // New Testament passages\n  ntPassages Json // Array of {ref: string, text?: string, notes?: string}\n\n  // Comparative analysis\n  themeNotes Json? // {summary: string, connections: string[], keyInsights: string[]}\n\n  // Visibility\n  isPublic Boolean @default(false)\n\n  // Authorship\n  createdBy String? // User ID\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  organization Organization  @relation(fields: [organizationId], references: [id], onDelete: Cascade)\n  metrics      ThemeMetric[]\n\n  @@index([organizationId])\n  @@index([category])\n  @@index([themeName])\n}\n\nmodel ThemeMetric {\n  id             String @id @default(cuid())\n  themeId        String\n  organizationId String\n\n  // Tracking\n  viewCount    Int      @default(0)\n  lastViewedAt DateTime @default(now())\n\n  // User engagement\n  userId         String? // User who viewed\n  featureContext String? // Where it was accessed (e.g., \"topical_index\", \"passage_link\", \"direct\")\n  timeSpentMs    Int? // Time spent viewing in milliseconds\n\n  // Lesson usage tracking\n  usedInLesson Boolean @default(false)\n  lessonId     String?\n\n  createdAt DateTime @default(now())\n\n  theme ComparativeTheme @relation(fields: [themeId], references: [id], onDelete: Cascade)\n\n  @@index([themeId])\n  @@index([organizationId])\n  @@index([createdAt])\n  @@index([userId])\n}\n\n// ============================================================================\n// NOTIFICATION SYSTEM\n// ============================================================================\n\nmodel NotificationPreference {\n  id     String @id @default(cuid())\n  userId String @unique\n\n  // Email notification settings\n  emailEnabled         Boolean         @default(true)\n  emailLessonReminders Boolean         @default(true)\n  emailEventReminders  Boolean         @default(true)\n  emailAnnouncements   Boolean         @default(true)\n  emailGroupUpdates    Boolean         @default(true)\n  emailDigest          Boolean         @default(false) // Daily/weekly digest\n  emailDigestFrequency DigestFrequency @default(WEEKLY)\n\n  // In-app notification settings\n  inAppEnabled         Boolean @default(true)\n  inAppLessonReminders Boolean @default(true)\n  inAppEventReminders  Boolean @default(true)\n  inAppAnnouncements   Boolean @default(true)\n  inAppGroupUpdates    Boolean @default(true)\n\n  // Scheduling preferences\n  quietHoursEnabled  Boolean @default(false)\n  quietHoursStart    String? // Time in HH:MM format (e.g., \"22:00\")\n  quietHoursEnd      String? // Time in HH:MM format (e.g., \"08:00\")\n  quietHoursTimezone String  @default(\"America/New_York\")\n\n  // Days of week preferences (ISO 8601: 1=Monday, 7=Sunday)\n  preferredDays Json? // Array of day numbers [1,2,3,4,5] for Mon-Fri\n\n  // Notification timing\n  lessonReminderDays Int    @default(2) // Days before lesson to send reminder\n  lessonReminderTime String @default(\"18:00\") // Time to send lesson reminders (HH:MM)\n  eventReminderHours Int    @default(24) // Hours before event to send reminder\n\n  // Batch settings\n  batchNotifications     Boolean @default(false) // Batch multiple notifications together\n  maxNotificationsPerDay Int     @default(10) // Maximum notifications per day (0 = unlimited)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@index([userId])\n}\n\nenum DigestFrequency {\n  DAILY\n  WEEKLY\n  BIWEEKLY\n  MONTHLY\n}\n\nmodel Notification {\n  id             String @id @default(cuid())\n  userId         String\n  organizationId String\n\n  // Notification content\n  type      NotificationType\n  title     String\n  message   String           @db.Text\n  actionUrl String? // Deep link or URL for the notification action\n\n  // Delivery settings\n  deliveryMethod NotificationDeliveryMethod @default(BOTH)\n  priority       NotificationPriority       @default(NORMAL)\n\n  // Scheduling\n  scheduledFor DateTime? // When to send (NULL = send immediately)\n  sentAt       DateTime?\n  readAt       DateTime?\n\n  // Status tracking\n  status         NotificationStatus @default(PENDING)\n  deliveryStatus Json? // { email: \"sent\", inApp: \"delivered\" } with timestamps\n\n  // Error handling\n  failureReason String? @db.Text\n  retryCount    Int     @default(0)\n  maxRetries    Int     @default(3)\n\n  // Related entities\n  groupId  String?\n  lessonId String?\n  eventId  String?\n\n  // Metadata\n  metadata Json? // Additional context data\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  user User @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  @@index([userId])\n  @@index([organizationId])\n  @@index([status])\n  @@index([type])\n  @@index([scheduledFor])\n  @@index([sentAt])\n}\n\nenum NotificationType {\n  LESSON_REMINDER // Upcoming lesson reminder\n  EVENT_REMINDER // Event reminder\n  ANNOUNCEMENT // General announcement\n  GROUP_UPDATE // Group membership or activity update\n  LESSON_ASSIGNED // New lesson assigned to group\n  COMMENT_REPLY // Someone replied to your comment\n  MENTION // Someone mentioned you\n  SYNC_COMPLETE // Integration sync completed\n  SYNC_ERROR // Integration sync failed\n  CUSTOM // Custom notification\n}\n\nenum NotificationDeliveryMethod {\n  EMAIL\n  IN_APP\n  BOTH\n}\n\nenum NotificationPriority {\n  LOW\n  NORMAL\n  HIGH\n  URGENT\n}\n\nenum NotificationStatus {\n  PENDING // Not yet sent\n  SCHEDULED // Scheduled for future delivery\n  SENDING // Currently being sent\n  SENT // Successfully sent\n  DELIVERED // Confirmed delivered (for in-app)\n  READ // User has read the notification\n  FAILED // Failed to send\n  CANCELLED // Cancelled before sending\n}\n\nmodel NotificationSchedule {\n  id             String  @id @default(cuid())\n  organizationId String\n  groupId        String? // NULL = applies to all groups in org\n\n  // Schedule metadata\n  name        String\n  description String? @db.Text\n\n  // Notification template\n  notificationType NotificationType\n  title            String\n  message          String           @db.Text\n  actionUrl        String?\n\n  // Recurrence settings\n  frequency  ScheduleFrequency\n  dayOfWeek  Int? // 1-7 (Monday-Sunday) for WEEKLY\n  dayOfMonth Int? // 1-31 for MONTHLY\n  timeOfDay  String // HH:MM format (e.g., \"18:00\")\n  timezone   String            @default(\"America/New_York\")\n\n  // Offset settings\n  offsetDays  Int @default(0) // Days before/after the trigger event\n  offsetHours Int @default(0) // Additional hours offset\n\n  // Targeting\n  targetRoles   Json? // Array of roles to notify [\"TEACHER\", \"ORG_ADMIN\"]\n  targetUserIds Json? // Specific user IDs to notify\n\n  // Status\n  isActive  Boolean   @default(true)\n  lastRunAt DateTime?\n  nextRunAt DateTime?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([organizationId])\n  @@index([groupId])\n  @@index([isActive])\n  @@index([nextRunAt])\n}\n\nenum ScheduleFrequency {\n  ONCE // One-time scheduled notification\n  DAILY\n  WEEKLY\n  BIWEEKLY\n  MONTHLY\n  BEFORE_LESSON // Triggered before lessons (uses offsetDays)\n  BEFORE_EVENT // Triggered before events (uses offsetHours)\n}\n",
  "inlineSchemaHash": "5c653d099e53ca25e7c1fade7cc59902a55cd4111485dd95b5a530f99d81effb",
  "copyEngine": true
}
config.dirname = '/'

config.runtimeDataModel = JSON.parse("{\"models\":{\"Organization\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"slug\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"timezone\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"users\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"OrganizationToUser\"},{\"name\":\"groups\",\"kind\":\"object\",\"type\":\"Group\",\"relationName\":\"GroupToOrganization\"},{\"name\":\"integrations\",\"kind\":\"object\",\"type\":\"ExternalIntegration\",\"relationName\":\"ExternalIntegrationToOrganization\"},{\"name\":\"lessons\",\"kind\":\"object\",\"type\":\"Lesson\",\"relationName\":\"LessonToOrganization\"},{\"name\":\"aiFilterConfigs\",\"kind\":\"object\",\"type\":\"AIFilterConfig\",\"relationName\":\"AIFilterConfigToOrganization\"},{\"name\":\"comparativeThemes\",\"kind\":\"object\",\"type\":\"ComparativeTheme\",\"relationName\":\"ComparativeThemeToOrganization\"}],\"dbName\":null},\"User\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"email\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"passwordHash\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"firstName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"lastName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"role\",\"kind\":\"enum\",\"type\":\"Role\"},{\"name\":\"organizationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"externalId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"externalData\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"lastLoginAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"organization\",\"kind\":\"object\",\"type\":\"Organization\",\"relationName\":\"OrganizationToUser\"},{\"name\":\"groupMemberships\",\"kind\":\"object\",\"type\":\"GroupMember\",\"relationName\":\"GroupMemberToUser\"},{\"name\":\"refreshTokens\",\"kind\":\"object\",\"type\":\"RefreshToken\",\"relationName\":\"RefreshTokenToUser\"},{\"name\":\"notificationPreference\",\"kind\":\"object\",\"type\":\"NotificationPreference\",\"relationName\":\"NotificationPreferenceToUser\"},{\"name\":\"notifications\",\"kind\":\"object\",\"type\":\"Notification\",\"relationName\":\"NotificationToUser\"}],\"dbName\":null},\"RefreshToken\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"token\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"RefreshTokenToUser\"}],\"dbName\":null},\"Group\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"organizationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"externalId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"externalData\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"ageMin\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"ageMax\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"grade\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"organization\",\"kind\":\"object\",\"type\":\"Organization\",\"relationName\":\"GroupToOrganization\"},{\"name\":\"members\",\"kind\":\"object\",\"type\":\"GroupMember\",\"relationName\":\"GroupToGroupMember\"},{\"name\":\"mappings\",\"kind\":\"object\",\"type\":\"ExternalGroupMapping\",\"relationName\":\"ExternalGroupMappingToGroup\"},{\"name\":\"lessons\",\"kind\":\"object\",\"type\":\"LessonGroup\",\"relationName\":\"GroupToLessonGroup\"}],\"dbName\":null},\"GroupMember\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"groupId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"role\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"GroupMemberToUser\"},{\"name\":\"group\",\"kind\":\"object\",\"type\":\"Group\",\"relationName\":\"GroupToGroupMember\"}],\"dbName\":null},\"ExternalIntegration\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"organizationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"provider\",\"kind\":\"enum\",\"type\":\"IntegrationProvider\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"IntegrationStatus\"},{\"name\":\"credentialsEncrypted\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"credentialsIV\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"credentialsTag\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"accessToken\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"refreshToken\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"tokenExpiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"apiBaseUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"apiVersion\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"syncEnabled\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"syncFrequency\",\"kind\":\"enum\",\"type\":\"SyncFrequency\"},{\"name\":\"lastSyncAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"lastSyncStatus\",\"kind\":\"enum\",\"type\":\"SyncStatus\"},{\"name\":\"nextSyncAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"organization\",\"kind\":\"object\",\"type\":\"Organization\",\"relationName\":\"ExternalIntegrationToOrganization\"},{\"name\":\"groupMappings\",\"kind\":\"object\",\"type\":\"ExternalGroupMapping\",\"relationName\":\"ExternalGroupMappingToExternalIntegration\"},{\"name\":\"syncLogs\",\"kind\":\"object\",\"type\":\"SyncLog\",\"relationName\":\"ExternalIntegrationToSyncLog\"}],\"dbName\":null},\"ExternalGroupMapping\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"integrationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"externalGroupId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"externalGroupName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"externalGroupType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"groupId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"syncMembers\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"syncLeaders\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"integration\",\"kind\":\"object\",\"type\":\"ExternalIntegration\",\"relationName\":\"ExternalGroupMappingToExternalIntegration\"},{\"name\":\"group\",\"kind\":\"object\",\"type\":\"Group\",\"relationName\":\"ExternalGroupMappingToGroup\"}],\"dbName\":null},\"SyncLog\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"integrationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"SyncStatus\"},{\"name\":\"startedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"completedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"durationMs\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"peopleAdded\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"peopleUpdated\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"peopleRemoved\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"groupsAdded\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"groupsUpdated\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"groupsSkipped\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"errorMessage\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"errorCode\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"errorDetails\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"metadata\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"integration\",\"kind\":\"object\",\"type\":\"ExternalIntegration\",\"relationName\":\"ExternalIntegrationToSyncLog\"}],\"dbName\":null},\"Lesson\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"organizationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"quarter\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"unit\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"lessonNumber\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"scripture\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"content\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"slides\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"games\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"isPublic\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"isTemplate\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"organization\",\"kind\":\"object\",\"type\":\"Organization\",\"relationName\":\"LessonToOrganization\"},{\"name\":\"groups\",\"kind\":\"object\",\"type\":\"LessonGroup\",\"relationName\":\"LessonToLessonGroup\"}],\"dbName\":null},\"LessonGroup\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"lessonId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"groupId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"lesson\",\"kind\":\"object\",\"type\":\"Lesson\",\"relationName\":\"LessonToLessonGroup\"},{\"name\":\"group\",\"kind\":\"object\",\"type\":\"Group\",\"relationName\":\"GroupToLessonGroup\"}],\"dbName\":null},\"AIFilterConfig\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"organizationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"filterRules\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"customKeywords\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"redirectMessage\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"organization\",\"kind\":\"object\",\"type\":\"Organization\",\"relationName\":\"AIFilterConfigToOrganization\"},{\"name\":\"metrics\",\"kind\":\"object\",\"type\":\"AIFilterMetric\",\"relationName\":\"AIFilterConfigToAIFilterMetric\"}],\"dbName\":null},\"AIFilterMetric\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"filterId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"organizationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"query\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"detectedCategory\",\"kind\":\"enum\",\"type\":\"FilterCategory\"},{\"name\":\"actionTaken\",\"kind\":\"enum\",\"type\":\"FilterAction\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"groupId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"featureName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"leaderNotified\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"leaderResponse\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"resolvedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"filter\",\"kind\":\"object\",\"type\":\"AIFilterConfig\",\"relationName\":\"AIFilterConfigToAIFilterMetric\"}],\"dbName\":null},\"ComparativeTheme\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"organizationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"themeName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"category\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"otPassages\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"ntPassages\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"themeNotes\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"isPublic\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"createdBy\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"organization\",\"kind\":\"object\",\"type\":\"Organization\",\"relationName\":\"ComparativeThemeToOrganization\"},{\"name\":\"metrics\",\"kind\":\"object\",\"type\":\"ThemeMetric\",\"relationName\":\"ComparativeThemeToThemeMetric\"}],\"dbName\":null},\"ThemeMetric\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"themeId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"organizationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"viewCount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"lastViewedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"featureContext\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"timeSpentMs\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"usedInLesson\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"lessonId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"theme\",\"kind\":\"object\",\"type\":\"ComparativeTheme\",\"relationName\":\"ComparativeThemeToThemeMetric\"}],\"dbName\":null},\"NotificationPreference\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"emailEnabled\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"emailLessonReminders\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"emailEventReminders\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"emailAnnouncements\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"emailGroupUpdates\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"emailDigest\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"emailDigestFrequency\",\"kind\":\"enum\",\"type\":\"DigestFrequency\"},{\"name\":\"inAppEnabled\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"inAppLessonReminders\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"inAppEventReminders\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"inAppAnnouncements\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"inAppGroupUpdates\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"quietHoursEnabled\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"quietHoursStart\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"quietHoursEnd\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"quietHoursTimezone\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"preferredDays\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"lessonReminderDays\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"lessonReminderTime\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"eventReminderHours\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"batchNotifications\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"maxNotificationsPerDay\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"NotificationPreferenceToUser\"}],\"dbName\":null},\"Notification\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"organizationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"type\",\"kind\":\"enum\",\"type\":\"NotificationType\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"message\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"actionUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"deliveryMethod\",\"kind\":\"enum\",\"type\":\"NotificationDeliveryMethod\"},{\"name\":\"priority\",\"kind\":\"enum\",\"type\":\"NotificationPriority\"},{\"name\":\"scheduledFor\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"sentAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"readAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"status\",\"kind\":\"enum\",\"type\":\"NotificationStatus\"},{\"name\":\"deliveryStatus\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"failureReason\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"retryCount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"maxRetries\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"groupId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"lessonId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"eventId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"metadata\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"NotificationToUser\"}],\"dbName\":null},\"NotificationSchedule\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"organizationId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"groupId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"notificationType\",\"kind\":\"enum\",\"type\":\"NotificationType\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"message\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"actionUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"frequency\",\"kind\":\"enum\",\"type\":\"ScheduleFrequency\"},{\"name\":\"dayOfWeek\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"dayOfMonth\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"timeOfDay\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"timezone\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"offsetDays\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"offsetHours\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"targetRoles\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"targetUserIds\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"lastRunAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"nextRunAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null}},\"enums\":{},\"types\":{}}")
defineDmmfProperty(exports.Prisma, config.runtimeDataModel)
config.engineWasm = {
  getRuntime: async () => require('./query_engine_bg.js'),
  getQueryEngineWasmModule: async () => {
    const loader = (await import('#wasm-engine-loader')).default
    const engine = (await loader).default
    return engine
  }
}
config.compilerWasm = undefined

config.injectableEdgeEnv = () => ({
  parsed: {
    DATABASE_URL: typeof globalThis !== 'undefined' && globalThis['DATABASE_URL'] || typeof process !== 'undefined' && process.env && process.env.DATABASE_URL || undefined
  }
})

if (typeof globalThis !== 'undefined' && globalThis['DEBUG'] || typeof process !== 'undefined' && process.env && process.env.DEBUG || undefined) {
  Debug.enable(typeof globalThis !== 'undefined' && globalThis['DEBUG'] || typeof process !== 'undefined' && process.env && process.env.DEBUG || undefined)
}

const PrismaClient = getPrismaClient(config)
exports.PrismaClient = PrismaClient
Object.assign(exports, Prisma)

